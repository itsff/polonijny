<template>
  <section>
    <h2>${heading}</h2>
    <form role="form" submit.delegate="submit()">
      

      <div class="form-group form-group-lg">
        <label for="entry">Hasło</label>
        <input 
          type="text" 
          value.bind="entry" 
          class="form-control input-lg" 
          id="entry" 
          placeholder="hasło" />
      </div>
      
      <div class="panel panel-default">
        <div class="panel-heading">
          <div class="panel-title">Znaczenia</div>
        </div>
        <div class="panel-body">
          <div class="form-group" repeat.for="m of meanings">
            <div class="input-group">
              <input type="text" value.bind="m.value" class="form-control" placeholder="znaczenie" />
              <span class="input-group-btn">
                <button
                  type="button" 
                  class="btn btn-danger"
                  aria-label="Usuń"
                  click.delegate="$parent.remove($parent.meanings, $index)">
                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                </button>
              </span>
            </div><!-- /input-group -->
          </div>
          <button class="btn btn-default" click.delegate="add(meanings)">Dodaj znaczenie</button>
        </div>
      </div>
      
      <div class="panel panel-default">
        <div class="panel-heading">
          <div class="panel-title">Znaczenia angielskie</div>
        </div>
        <div class="panel-body">
          <div class="form-group" repeat.for="m of english">
            <div class="input-group">
              <input type="text" value.bind="m.value" class="form-control" placeholder="ang" />
              <span class="input-group-btn">
                <button
                  type="button" 
                  class="btn btn-danger"
                  aria-label="Usuń"
                  click.delegate="$parent.remove($parent.english, $index)">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                </button>
              </span>
            </div><!-- /input-group -->
          </div>
          <button class="btn btn-default" click.delegate="add(english)">Dodaj znaczenie angielskie</button>
        </div>
      </div>
      
      
      <div class="panel panel-default">
        <div class="panel-heading">
          <div class="panel-title">Przykłady</div>
        </div>
        <div class="panel-body">
          <div class="form-group" repeat.for="m of examples">
            <div class="input-group">
              <input type="text" value.bind="m.value" class="form-control" placeholder="przykład" />
              <span class="input-group-btn">
                <button
                  type="button" 
                  class="btn btn-danger"
                  aria-label="Usuń"
                  click.delegate="$parent.remove($parent.examples, $index)">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                </button>
              </span>
            </div><!-- /input-group -->
          </div>
          <div class="alert alert-info" role="alert" show.bind="examples.length > 0">
            <strong>Psst</strong> - Chcesz dodać link to innego hasła? Napisz je w [nawiasach].
            <p>
              Np. <mark>[Kap]</mark> mi powiedział żebym nie stawiał <mark>[kary|kara]</mark> na <mark>[kornerze|korner]</mark>.
            </p>
          </div>
          <button class="btn btn-default" click.delegate="add(examples)">Dodaj przykład</button>
        </div>
      </div>
      
      <div class="panel panel-default">
        <div class="panel-heading">
          <div class="panel-title">Hasła pokrewne</div>
        </div>
        <div class="panel-body">
          <div class="form-group" repeat.for="m of see_also">
            <div class="input-group">
              <input type="text" value.bind="m.value" class="form-control" placeholder="zob. też" />
              <span class="input-group-btn">
                <button
                  type="button" 
                  class="btn btn-danger"
                  aria-label="Usuń"
                  click.delegate="$parent.remove($parent.see_also, $index)">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                </button>
              </span>
            </div><!-- /input-group -->
          </div>
          <button class="btn btn-default" click.delegate="add(see_also)">Dodaj hasło pokrewne</button>
        </div>
      </div>
      
      <div class="g-recaptcha" data-sitekey="6LcpgQcTAAAAAFqGZbDtRKcBp7WIDi_UFARU1ihk"></div>
      
      <button type="submit" class="btn btn-success btn-lg" disabled.bind="!canSubmit">Dodaj hasło do słownika</button>
    </form>
    
    <script src='https://www.google.com/recaptcha/api.js'></script>
    
  </section>
</template>
